function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ymap(){let e=document.querySelector(".footer");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready(function(){let e=new ymaps.Map("ymap",{center:[47.14216407428549,39.746534499999946],zoom:18,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([47.14216407428549,39.746534499999946],{hintContent:"LEVEL FITNESS",balloonContentHeader:"LEVEL FITNESS",balloonContentBody:"г. Батайск, М. Горького, д. 84"},{preset:"islands#icon",iconColor:"#E7490F"});e.geoObjects.add(t)})}function n(){let o=e.getBoundingClientRect().top,r=window.pageYOffset,l=o+r;r+window.innerHeight>l&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",n))}window.addEventListener("scroll",n),n()}function phoneMask(){let e=document.querySelectorAll("input[data-tel-input]");for(let t of e)t.addEventListener("keydown",r),t.addEventListener("input",o,!1),t.addEventListener("paste",n,!1);function t(e){return e.value.replace(/\D/g,"")}function n(e){let n=e.target,o=t(n),r=e.clipboardData||window.clipboardData;if(r){let e=r.getData("Text");if(/\D/g.test(e))return void(n.value=o)}}function o(e){let n=e.target,o=t(n),r=n.selectionStart,l="";if(!o)return n.value="";if(n.value.length==r){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);let e="8"==o[0]?"8":"+7";l=n.value=e+" ",o.length>1&&(l+="("+o.substring(1,4)),o.length>=5&&(l+=") "+o.substring(4,7)),o.length>=8&&(l+="-"+o.substring(7,9)),o.length>=10&&(l+="-"+o.substring(9,11))}else l="+"+o.substring(0,16);n.value=l}else e.data&&/\D/g.test(e.data)&&(n.value=o)}function r(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}}function sliders(){if(document.querySelector(".intro__slider")){new Swiper(".intro__slider",{speed:1e3,loop:!0,autoHeight:!0,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:4700},navigation:{nextEl:".intro__next",prevEl:".intro__prev"},pagination:{el:".intro__pagination",type:"bullets",clickable:!0},preloadImages:!1,lazy:{loadPrevNext:!0}})}if(document.querySelector(".team__slider")){let t,n=!1;function e(){mobile.matches&&!n?(n=!0,t=new Swiper(".team__slider",{slidesPerView:1,loop:!0,speed:800,spaceBetween:15,autoHeight:!0,grabCursor:!0,pagination:{el:".team__pagination",type:"bullets",clickable:!0},preloadImages:!1,lazy:{loadPrevNext:!0}})):desktop.matches&&t&&(t.destroy(),n=!1)}e(),window.addEventListener("resize",e)}}function header(){const e=document.querySelector(".mobile-header__burger"),t=document.querySelector(".mobile-header__info");e.addEventListener("click",n=>{e.classList.toggle("_active"),t.classList.toggle("_active"),document.body.classList.toggle("_lock")})}function popup(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;const r=550;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",function(e){const t=n.getAttribute("href").replace("#","");i(document.getElementById(t)),e.preventDefault()})}const l=document.querySelectorAll(".close-popup");if(l.length>0)for(let e=0;e<l.length;e++){const t=l[e];t.addEventListener("click",function(e){a(t.closest(".popup")),e.preventDefault()})}function i(e){if(e&&o){const l=document.querySelector(".popup._open");l?a(l,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++){const o=n[t];o.style.paddingRight=e}t.style.paddingRight=e,t.classList.add("_lock"),o=!1,setTimeout(function(){o=!0},r)}(),e.classList.add("_open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||a(e.target.closest(".popup"))})}}function a(e,l=!0){o&&(e.classList.remove("_open"),l&&(setTimeout(function(){if(n.length>0)for(let e=0;e<n.length;e++){const t=n[e];t.style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")},r),o=!1,setTimeout(function(){o=!0},r)))}document.addEventListener("keydown",function(e){if(27===e.which){a(document.querySelector(".popup._open"))}})}function anchorScroll(){const e=document.querySelectorAll("a._anchor-scroll");for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",e=>{e.preventDefault();const t=n.getAttribute("href").replace("#",""),o=document.getElementById(t),r=document.querySelector(".header").offsetHeight,l=o.getBoundingClientRect().top-r;document.querySelector(".mobile-header__info").classList.remove("_active"),document.querySelector(".mobile-header__burger").classList.remove("_active"),document.body.classList.remove("_lock"),window.scrollBy({top:l,behavior:"smooth"})})}}function formCheck(){let e=document.querySelectorAll("form");if(e)for(let n=0;n<e.length;n++)e[n].addEventListener("submit",t);async function t(e){e.preventDefault();!function(e){let t=e.querySelectorAll("._req"),n=0;for(let e=0;e<t.length;e++){let o=t[e];formRemoveError(o),removeErrorMessage(o),o.classList.contains("_name")&&(nameTest(o)||o.parentElement.querySelector(".error-message")||(formAddError(o),createErrorMessage(o),n++)),""==o.value&&(formAddError(o),n++)}}(e.currentTarget)}}function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function nameTest(e){return/^[a-zа-яё\s]+$/iu.test(e.value)}function createErrorMessage(e){const t=document.createElement("div");t.className="error-message",t.innerHTML='<div class="error-message__icon">\n                          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M12 22C14.7614 22 17.2614 20.8807 19.0711 19.0711C20.8807 17.2614 22 14.7614 22 12C22 9.2386 20.8807 6.7386 19.0711 4.92893C17.2614 3.11929 14.7614 2 12 2C9.2386 2 6.7386 3.11929 4.92893 4.92893C3.11929 6.7386 2 9.2386 2 12C2 14.7614 3.11929 17.2614 4.92893 19.0711C6.7386 20.8807 9.2386 22 12 22Z" stroke="#EE0000" stroke-linejoin="round"/>\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 19C12.5523 19 13 18.5523 13 18C13 17.4477 12.5523 17 12 17C11.4477 17 11 17.4477 11 18C11 18.5523 11.4477 19 12 19Z" fill="#EE0000"/>\n                            <path d="M12 6V14" stroke="#EE0000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                          </svg>\n                      </div> \n                      <span>Введите, пожалуйста, корректное имя</span>',e.style.marginBottom="10px",e.parentElement.append(t)}function removeErrorMessage(e){const t=e.parentElement.querySelector(".error-message");e.classList.contains("_name")&&t&&(t.remove(),e.style.marginBottom="0px")}testWebP(function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")});const mobile=window.matchMedia("(max-width: 767.98px)"),desktop=window.matchMedia("(min-width: 768px)");window.onload=function(e){ymap(),phoneMask(),sliders(),header(),popup(),anchorScroll(),formCheck()};